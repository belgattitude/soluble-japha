


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="PHP java bridge client from JVM interoperability.">
      
      
        <link rel="canonical" href="http://docs.soluble.io/soluble-japha/language_recipes/">
      
      
        <meta name="author" content="Sébastien Vanvelthem">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.0.2">
    
    
      
        <title>Recipes - soluble-japha</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.07c9fbf5.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecd4686e.min.css">
      
      
        
        
        <meta name="theme-color" content="#ff7043">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"Lato",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../_assets/css/mermaid.css">
    
      <link rel="stylesheet" href="../_assets/css/monokai.css">
    
      <link rel="stylesheet" href="../_assets/css/style.css">
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-92890300-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="deep-orange" data-md-color-accent="light-blue">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recipes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="http://docs.soluble.io/soluble-japha/" title="soluble-japha" class="md-header-nav__button md-logo" aria-label="soluble-japha">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            soluble-japha
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Recipes
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="http://docs.soluble.io/soluble-japha/" title="soluble-japha" class="md-nav__button md-logo" aria-label="soluble-japha">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    soluble-japha
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Installation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Installation" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../install_client/" title="PHP install" class="md-nav__link">
      PHP install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install_server/" title="JavaBridge server" class="md-nav__link">
      JavaBridge server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../bridge_connection/" title="Connection" class="md-nav__link">
      Connection
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Usage
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Usage" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../language_basics/" title="Language basics" class="md-nav__link">
      Language basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language_useful_functions/" title="Useful functions" class="md-nav__link">
      Useful functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language_exceptions/" title="Handling exceptions" class="md-nav__link">
      Handling exceptions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Recipes
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Recipes" class="md-nav__link md-nav__link--active">
      Recipes
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#third-party" class="md-nav__link">
    Third party
  </a>
  
    <nav class="md-nav" aria-label="Third party">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corenlp" class="md-nav__link">
    CoreNLP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jasperreport" class="md-nav__link">
    JasperReport
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    Json
  </a>
  
    <nav class="md-nav" aria-label="Json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gson" class="md-nav__link">
    Gson
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-io" class="md-nav__link">
    Json-io
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jdbc-example" class="md-nav__link">
    JDBC example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-runtime" class="md-nav__link">
    Standard runtime
  </a>
  
    <nav class="md-nav" aria-label="Standard runtime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssl-sockets" class="md-nav__link">
    SSL sockets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Performance
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Performance" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Performance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_how_it_works/" title="How it works" class="md-nav__link">
      How it works
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language_optimizations/" title="Optimizations" class="md-nav__link">
      Optimizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_benchmarks/" title="Benchmarks" class="md-nav__link">
      Benchmarks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Advanced
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_servlet_functions/" title="Servlet functions" class="md-nav__link">
      Servlet functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_servlet_session/" title="Servlet session" class="md-nav__link">
      Servlet session
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_servlet_context/" title="Servlet context" class="md-nav__link">
      Servlet context
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Notes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Notes" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../notes_limitations/" title="Limitations" class="md-nav__link">
      Limitations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notes_legacy/" title="Legacy version" class="md-nav__link">
      Legacy version
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/install_java/" title="Java install" class="md-nav__link">
      Java install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/install_tomcat/" title="Tomcat install" class="md-nav__link">
      Tomcat install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../notes_implementation/" title="Standards & quality" class="md-nav__link">
      Standards & quality
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#third-party" class="md-nav__link">
    Third party
  </a>
  
    <nav class="md-nav" aria-label="Third party">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corenlp" class="md-nav__link">
    CoreNLP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jasperreport" class="md-nav__link">
    JasperReport
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    Json
  </a>
  
    <nav class="md-nav" aria-label="Json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gson" class="md-nav__link">
    Gson
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-io" class="md-nav__link">
    Json-io
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jdbc-example" class="md-nav__link">
    JDBC example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-runtime" class="md-nav__link">
    Standard runtime
  </a>
  
    <nav class="md-nav" aria-label="Standard runtime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssl-sockets" class="md-nav__link">
    SSL sockets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/belgattitude/soluble-japha/edit/master/doc/language_recipes.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="recipes">Recipes<a class="headerlink" href="#recipes" title="Permanent link">&para;</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For learning purposes, the bridge optimizations techniques might not have 
been applied to the recipe examples. That way, most examples will better correspond 
to their equivalent Java syntax, they should be optimized for
best performance. Learn more in the <a href="../language_optimizations/">language optimization</a> section. </p>
</div>
<h2 id="third-party">Third party<a class="headerlink" href="#third-party" title="Permanent link">&para;</a></h2>
<p>The following examples are based on third-party Java libraries. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When using third party libraries, always check their license.
Their installation can be done easily added when 
<a href="../install_server/">building</a> your own Javabridge server. 
<em>(pre-made init-scripts are available <a href="https://github.com/belgattitude/php-java-bridge/blob/master/init-scripts/README.md">here</a>).</em></p>
</div>
<h3 id="corenlp">CoreNLP<a class="headerlink" href="#corenlp" title="Permanent link">&para;</a></h3>
<p>Example based on the <a href="http://stanfordnlp.github.io/CoreNLP/simple.html">http://stanfordnlp.github.io/CoreNLP/simple.html</a>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span> <span class="k">declare</span><span class="p">(</span><span class="nx">strict_types</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="k">function</span> <span class="nf">getSentences</span><span class="p">(</span><span class="nx">Adapter</span> <span class="nv">$ba</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$text</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span>
<span class="p">{</span>
    <span class="nv">$doc</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;edu.stanford.nlp.simple.Document&#39;</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
    <span class="nv">$sentences</span> <span class="o">=</span> <span class="nv">$doc</span><span class="o">-&gt;</span><span class="na">sentences</span><span class="p">();</span>

    <span class="nv">$d</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">getDriver</span><span class="p">();</span>
    <span class="nv">$results</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">foreach</span><span class="p">(</span><span class="nv">$sentences</span> <span class="k">as</span> <span class="nv">$idx</span> <span class="o">=&gt;</span> <span class="nv">$sentence</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$results</span><span class="p">[</span><span class="nv">$idx</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;sentence&#39;</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$sentence</span><span class="p">,</span>
            <span class="s1">&#39;words&#39;</span>    <span class="o">=&gt;</span> <span class="nv">$d</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">(</span><span class="nv">$sentence</span><span class="o">-&gt;</span><span class="na">words</span><span class="p">()),</span>

            <span class="c1">// If you have a model installed you can</span>
            <span class="c1">// use lemmas(), posTags(), parse()... methods</span>
            <span class="s1">&#39;lemmas&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$d</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">(</span><span class="nv">$sentence</span><span class="o">-&gt;</span><span class="na">lemmas</span><span class="p">()),</span>
            <span class="s1">&#39;posTags&#39;</span> <span class="o">=&gt;</span> <span class="nv">$d</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">(</span><span class="nv">$sentence</span><span class="o">-&gt;</span><span class="na">posTags</span><span class="p">()),</span> 
            <span class="s1">&#39;parse&#39;</span>   <span class="o">=&gt;</span> <span class="nv">$d</span><span class="o">-&gt;</span><span class="na">values</span><span class="p">(</span><span class="nv">$sentence</span><span class="o">-&gt;</span><span class="na">parse</span><span class="p">())</span>
        <span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$results</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$text</span> <span class="o">=</span> <span class="s2">&quot;add your text here! It can contain multiple sentences. Hello world.&quot;</span><span class="p">;</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nx">getSentences</span><span class="p">(</span><span class="nv">$ba</span><span class="p">,</span> <span class="nv">$text</span><span class="p">);</span>
<span class="nx">assertEquals</span><span class="p">(</span><span class="s1">&#39;add your text here!&#39;</span><span class="p">,</span> <span class="nv">$results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;sentence&#39;</span><span class="p">]);</span>
<span class="nx">assertEquals</span><span class="p">(</span><span class="s1">&#39;Hello world.&#39;</span><span class="p">,</span> <span class="nv">$results</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;sentence&#39;</span><span class="p">]);</span>
<span class="nx">assertEquals</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="nv">$results</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;words&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While the bridge might offer more flexibility, CoreNLP provides a <a href="http://stanfordnlp.github.io/CoreNLP/corenlp-server.html">rest server</a>
that should be considered first for integration with PHP.         </p>
</div>
<h3 id="jasperreport">JasperReport<a class="headerlink" href="#jasperreport" title="Permanent link">&para;</a></h3>
<p>Basic example with jasper reports:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span> 

<span class="c1">// Variables</span>
<span class="nv">$reportFile</span> <span class="o">=</span> <span class="s1">&#39;/path/10_report_test_json_northwind.jrxml&#39;</span><span class="p">;</span>
<span class="nv">$jsonDataFile</span> <span class="o">=</span> <span class="s1">&#39;/path/northwind.json&#39;</span><span class="p">;</span>
<span class="nv">$outputFile</span> <span class="o">=</span> <span class="s1">&#39;/path/output.pdf&#39;</span><span class="p">;</span>


<span class="c1">// --------------------------------------------------------------------------------------</span>
<span class="c1">// STEP 1 - compile report</span>
<span class="c1">// --------------------------------------------------------------------------------------</span>
<span class="nv">$compileManager</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">javaClass</span><span class="p">(</span><span class="s1">&#39;net.sf.jasperreports.engine.JasperCompileManager&#39;</span><span class="p">);</span>
<span class="nv">$jasperPrint</span> <span class="o">=</span> <span class="nv">$compileManager</span><span class="o">-&gt;</span><span class="na">compileReport</span><span class="p">(</span><span class="nv">$reportFile</span><span class="p">);</span>

<span class="c1">// ---------------------------------------------------------------------------------------</span>
<span class="c1">// STEP 2 - getting fileResolver and classLoader</span>
<span class="c1">// ---------------------------------------------------------------------------------------</span>

<span class="nv">$reportPath</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.io.File&#39;</span><span class="p">,</span> <span class="nb">dirname</span><span class="p">(</span><span class="nv">$reportFile</span><span class="p">));</span>

<span class="nv">$fileResolver</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;net.sf.jasperreports.engine.util.SimpleFileResolver&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="nv">$reportPath</span>
<span class="p">]);</span>
<span class="nv">$fileResolver</span><span class="o">-&gt;</span><span class="na">setResolveAbsolutePath</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="nv">$classLoader</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.net.URLClassLoader&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nv">$reportPath</span><span class="o">-&gt;</span><span class="na">toUrl</span><span class="p">()]);</span>

<span class="c1">// ---------------------------------------------------------------------------------------</span>
<span class="c1">// STEP 3 - setting context props</span>
<span class="c1">// ---------------------------------------------------------------------------------------</span>

<span class="nv">$props</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1">//&#39;net.sf.jasperreports.json.source&#39;         =&gt; $jsonDataFile,</span>
    <span class="s1">&#39;net.sf.jasperreports.json.source&#39;</span>         <span class="o">=&gt;</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.io.File&#39;</span><span class="p">,</span> <span class="nv">$jsonDataFile</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getAbsolutePath</span><span class="p">(),</span>
    <span class="s1">&#39;net.sf.jasperreports.json.date.pattern&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">,</span>
    <span class="s1">&#39;net.sf.jasperreports.json.number.pattern&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#,##0.##&#39;</span><span class="p">,</span>
    <span class="s1">&#39;net.sf.jasperreports.json.locale.code&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;en_GB&#39;</span><span class="p">,</span>
    <span class="s1">&#39;net.sf.jasperreports.json.timezone.id&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;Europe/Brussels&#39;</span><span class="p">,</span>

    <span class="s1">&#39;REPORT_FILE_RESOLVER&#39;</span>                 <span class="o">=&gt;</span> <span class="nv">$fileResolver</span><span class="p">,</span>
    <span class="s1">&#39;REPORT_CLASS_LOADER&#39;</span>                  <span class="o">=&gt;</span> <span class="nv">$classLoader</span>
<span class="p">];</span>

<span class="c1">// ------------------------------------------------------------------------------------</span>
<span class="c1">// Step 4: filling report</span>
<span class="c1">// ------------------------------------------------------------------------------------</span>

<span class="nv">$fillManager</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">javaClass</span><span class="p">(</span><span class="s1">&#39;net.sf.jasperreports.engine.JasperFillManager&#39;</span><span class="p">);</span>

<span class="nv">$params</span> <span class="o">=</span> <span class="nb">array_merge</span><span class="p">(</span><span class="nv">$props</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;REPORT_LOGO&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;./assets/wave.png&#39;</span><span class="p">,</span>
    <span class="s1">&#39;REPORT_TITLE&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Test&#39;</span>
<span class="p">]);</span>
<span class="nv">$jasperPrint</span> <span class="o">=</span> <span class="nv">$fillManager</span><span class="o">-&gt;</span><span class="na">fillReport</span><span class="p">(</span>
    <span class="nv">$jasperPrint</span><span class="p">,</span>
    <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.util.HashMap&#39;</span><span class="p">,</span> <span class="nv">$params</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// -----------------------------------------------------------------------------------</span>
<span class="c1">// Step 5: Exporting report in pdf</span>
<span class="c1">// -----------------------------------------------------------------------------------</span>

<span class="nv">$exportManager</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ba</span><span class="o">-&gt;</span><span class="na">javaClass</span><span class="p">(</span><span class="s1">&#39;net.sf.jasperreports.engine.JasperExportManager&#39;</span><span class="p">);</span>

<span class="nv">$exportManager</span><span class="o">-&gt;</span><span class="na">exportReportToPdfFile</span><span class="p">(</span><span class="nv">$jasperPrint</span><span class="p">,</span> <span class="nv">$outputFile</span><span class="p">);</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Don't forget to look at the ready to use wrapper <a href="https://github.com/belgattitude/soluble-jasper">soluble-jasper</a>
based on the bridge.</p>
</div>
<h3 id="json">Json<a class="headerlink" href="#json" title="Permanent link">&para;</a></h3>
<p>Json serialization can be particularly useful whenever you want to retrieve
a java object representation. It could be used as an optimization technique as well.</p>
<h4 id="gson">Gson<a class="headerlink" href="#gson" title="Permanent link">&para;</a></h4>
<p>Gson is a fast and simple json serializer from google. </p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">//...</span>

<span class="nv">$gson</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;com.google.gson.Gson&#39;</span><span class="p">);</span>

<span class="nv">$simpleDateFormat</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.text.SimpleDateFormat&#39;</span><span class="p">,</span> <span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">);</span>

<span class="nv">$hashMap</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.util.HashMap&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;integer&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;phpstring&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;PHP Héllo&#39;</span><span class="p">,</span>
    <span class="s1">&#39;javastring&#39;</span> <span class="o">=&gt;</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.lang.String&#39;</span><span class="p">,</span> <span class="s1">&#39;Java Héllo&#39;</span><span class="p">),</span>
    <span class="s1">&#39;javadate&#39;</span> <span class="o">=&gt;</span> <span class="nv">$simpleDateFormat</span><span class="o">-&gt;</span><span class="na">parse</span><span class="p">(</span><span class="s1">&#39;2017-05-20&#39;</span><span class="p">)</span>
<span class="p">]);</span>

<span class="nv">$jsonString</span> <span class="o">=</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$gson</span><span class="o">-&gt;</span><span class="na">toJson</span><span class="p">(</span><span class="nv">$hashMap</span><span class="p">);</span>
<span class="c1">// Will produce:</span>
<span class="c1">//   {</span>
<span class="c1">//     &quot;javastring&quot;:&quot;Java Héllo&quot;,</span>
<span class="c1">//     &quot;javadate&quot;:&quot;May 20, 2017 12:00:00 AM&quot;,</span>
<span class="c1">//     &quot;phpstring&quot;:&quot;PHP Héllo&quot;,</span>
<span class="c1">//     &quot;integer&quot;:1</span>
<span class="c1">//   }</span>

<span class="nv">$decoded</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$jsonString</span><span class="p">);</span>
<span class="c1">// assertEquals(&#39;Java Héllo&#39;, $decoded-&gt;javastring);</span>
</code></pre></div>

<h4 id="json-io">Json-io<a class="headerlink" href="#json-io" title="Permanent link">&para;</a></h4>
<p><a href="https://github.com/jdereg/json-io">Json-io</a> is another serializer. </p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">//...</span>

<span class="nv">$jsonWriter</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">javaClass</span><span class="p">(</span><span class="s1">&#39;com.cedarsoftware.util.io.JsonWriter&#39;</span><span class="p">);</span>

<span class="nv">$simpleDateFormat</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.text.SimpleDateFormat&#39;</span><span class="p">,</span> <span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">);</span>

<span class="nv">$hashMap</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.util.HashMap&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;integer&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;phpstring&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;PHP Héllo&#39;</span><span class="p">,</span>
    <span class="s1">&#39;javastring&#39;</span> <span class="o">=&gt;</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.lang.String&#39;</span><span class="p">,</span> <span class="s1">&#39;Java Héllo&#39;</span><span class="p">),</span>
    <span class="s1">&#39;javadate&#39;</span> <span class="o">=&gt;</span> <span class="nv">$simpleDateFormat</span><span class="o">-&gt;</span><span class="na">parse</span><span class="p">(</span><span class="s1">&#39;2017-05-20&#39;</span><span class="p">)</span>
<span class="p">]);</span>

<span class="nv">$jsonString</span> <span class="o">=</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$jsonWriter</span><span class="o">-&gt;</span><span class="na">objectToJson</span><span class="p">(</span><span class="nv">$hashMap</span><span class="p">);</span>
<span class="c1">// Will produce</span>
<span class="c1">// {</span>
<span class="c1">//   &quot;@type&quot;:&quot;java.util.HashMap&quot;,</span>
<span class="c1">//   &quot;javastring&quot;:&quot;Java Héllo&quot;,</span>
<span class="c1">//   &quot;javadate&quot;: {</span>
<span class="c1">//         &quot;@type&quot;:&quot;date&quot;,</span>
<span class="c1">//         &quot;value&quot;:1495231200000</span>
<span class="c1">//   },</span>
<span class="c1">//   &quot;phpstring&quot;:&quot;PHP Héllo&quot;,</span>
<span class="c1">//   &quot;integer&quot;: {</span>
<span class="c1">//          &quot;@type&quot;:&quot;int&quot;,</span>
<span class="c1">//          &quot;value&quot;:1</span>
<span class="c1">//   }</span>
<span class="c1">// }</span>

<span class="nv">$decoded</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$jsonString</span><span class="p">);</span>
<span class="c1">// assertEquals(&#39;date&#39;, $decoded-&gt;javadate-&gt;{&#39;@type&#39;});</span>
<span class="c1">// assertEquals(&#39;Java Héllo&#39;, $decoded-&gt;javastring);</span>
</code></pre></div>

<h3 id="jdbc-example">JDBC example<a class="headerlink" href="#jdbc-example" title="Permanent link">&para;</a></h3>
<p>Demonstrate the usage of JDBC as it still is a very popular example in Java. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Iterating over probable large resultsets with the bridge 
as illustrated on the JDBC example is very expensive in terms of performance. 
This code should not be used with the bridge unless no other option exists.
See the performance and best practices to learn why.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Soluble\Japha\Bridge\Exception</span><span class="p">;</span>

<span class="c1">// $ba = new BridgeAdapter(...); </span>

<span class="nv">$driverClass</span> <span class="o">=</span> <span class="s1">&#39;com.mysql.jdbc.Driver&#39;</span><span class="p">;</span>
<span class="nv">$dsn</span> <span class="o">=</span> <span class="s2">&quot;jdbc:mysql://localhost/my_database?user=login&amp;password=pwd&quot;</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>

    <span class="nv">$driverManager</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">javaClass</span><span class="p">(</span><span class="s1">&#39;java.sql.DriverManager&#39;</span><span class="p">);</span>

    <span class="nv">$class</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">javaClass</span><span class="p">(</span><span class="s1">&#39;java.lang.Class&#39;</span><span class="p">);</span>
    <span class="nv">$class</span><span class="o">-&gt;</span><span class="na">forName</span><span class="p">(</span><span class="nv">$driverClass</span><span class="p">);</span>

    <span class="nv">$conn</span> <span class="o">=</span> <span class="nv">$driverManager</span><span class="o">-&gt;</span><span class="na">getConnection</span><span class="p">(</span><span class="nv">$dsn</span><span class="p">);</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\ClassNotFoundException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Probably the jdbc driver is not registered</span>
    <span class="c1">// on the JVM side. Check that the mysql-connector.jar</span>
    <span class="c1">// is installed</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getStackTrace</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\JavaException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getStackTrace</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$stmt</span> <span class="o">=</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">createStatement</span><span class="p">();</span>
    <span class="nv">$rs</span> <span class="o">=</span> <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">executeQuery</span><span class="p">(</span><span class="s1">&#39;select * from product&#39;</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="nv">$rs</span><span class="o">-&gt;</span><span class="na">next</span><span class="p">())</span> <span class="p">{</span>
        <span class="nv">$title</span> <span class="o">=</span> <span class="nv">$rs</span><span class="o">-&gt;</span><span class="na">getString</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">);</span>
        <span class="k">echo</span> <span class="nv">$title</span><span class="p">;</span>            
    <span class="p">}</span>        
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">isNull</span><span class="p">(</span><span class="nv">$rs</span><span class="p">))</span> <span class="p">{</span>
        <span class="nv">$rs</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">isNull</span><span class="p">(</span><span class="nv">$stmt</span><span class="p">))</span> <span class="p">{</span>
        <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\JavaException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
    <span class="c1">// Because it&#39;s a JavaException</span>
    <span class="c1">// you can use the java stack trace</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getStackTrace</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">\Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can easily add MySQL connector to your bridge server, pre-made
build scripts are available <a href="https://github.com/belgattitude/php-java-bridge/blob/master/init-scripts/README.md">here</a>. </p>
</div>
<h2 id="standard-runtime">Standard runtime<a class="headerlink" href="#standard-runtime" title="Permanent link">&para;</a></h2>
<p>Those examples can be tested on a standard JVM install (no third party requirements).</p>
<h3 id="ssl-sockets">SSL sockets<a class="headerlink" href="#ssl-sockets" title="Permanent link">&para;</a></h3>
<p>Demonstrate some possible uses of streams <em>(code is irrelevant from a PHP point of view)</em>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// $ba = new BridgeAdapter(...); </span>

<span class="nv">$serverPort</span> <span class="o">=</span> <span class="mi">443</span><span class="p">;</span>
<span class="nv">$host</span> <span class="o">=</span> <span class="s1">&#39;www.google.com&#39;</span><span class="p">;</span>

<span class="nv">$socketFactory</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">javaClass</span><span class="p">(</span><span class="s1">&#39;javax.net.ssl.SSLSocketFactory&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getDefault</span><span class="p">();</span>
<span class="nv">$socket</span> <span class="o">=</span> <span class="nv">$socketFactory</span><span class="o">-&gt;</span><span class="na">createSocket</span><span class="p">(</span><span class="nv">$host</span><span class="p">,</span> <span class="nv">$serverPort</span><span class="p">);</span>

<span class="nv">$socket</span><span class="o">-&gt;</span><span class="na">startHandshake</span><span class="p">();</span>
<span class="nv">$bufferedWriter</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.io.BufferedWriter&#39;</span><span class="p">,</span>
            <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.io.OutputStreamWriter&#39;</span><span class="p">,</span>
                    <span class="nv">$socket</span><span class="o">-&gt;</span><span class="na">getOutputStream</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">);</span>

<span class="nv">$bufferedReader</span> <span class="o">=</span> <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.io.BufferedReader&#39;</span><span class="p">,</span>
            <span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">java</span><span class="p">(</span><span class="s1">&#39;java.io.InputStreamReader&#39;</span><span class="p">,</span>
                <span class="nv">$socket</span><span class="o">-&gt;</span><span class="na">getInputStream</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">);</span>

<span class="nv">$bufferedWriter</span><span class="o">-&gt;</span><span class="na">write</span><span class="p">(</span><span class="s2">&quot;GET / HTTP/1.0&quot;</span><span class="p">);</span>
<span class="nv">$bufferedWriter</span><span class="o">-&gt;</span><span class="na">newLine</span><span class="p">();</span>
<span class="nv">$bufferedWriter</span><span class="o">-&gt;</span><span class="na">newLine</span><span class="p">();</span> <span class="c1">// end of HTTP request</span>
<span class="nv">$bufferedWriter</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>

<span class="nv">$lines</span> <span class="o">=</span> <span class="p">[];</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="nv">$line</span> <span class="o">=</span> <span class="nv">$bufferedReader</span><span class="o">-&gt;</span><span class="na">readLine</span><span class="p">();</span>
    <span class="nv">$lines</span><span class="p">[]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$line</span><span class="p">;</span>
<span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="nv">$ba</span><span class="o">-&gt;</span><span class="na">isNull</span><span class="p">(</span><span class="nv">$line</span><span class="p">));</span>

<span class="nv">$content</span> <span class="o">=</span> <span class="nb">implode</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$lines</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$content</span><span class="p">;</span>

<span class="nv">$bufferedWriter</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
<span class="nv">$bufferedReader</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
<span class="nv">$socket</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">();</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../language_exceptions/" title="Handling exceptions" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Handling exceptions
              </div>
            </div>
          </a>
        
        
          <a href="../bridge_how_it_works/" title="How it works" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                How it works
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2020 Sébastien Vanvelthem
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://github.com/belgattitude/soluble-japha" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.36cbf620.min.js"></script>
      <script src="../assets/javascripts/bundle.00c583dd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copied": "Copied to clipboard", "search.config.separator": "[\\s\\-]+", "search.config.pipeline": "trimmer, stopWordFilter", "search.result.other": "# matching documents", "search.result.none": "No matching documents", "search.config.lang": "en", "search.result.placeholder": "Type to start searching", "clipboard.copy": "Copy to clipboard", "search.result.one": "1 matching document"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["instant"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.7f7c8775.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../_assets/js/mermaid-8.4.8.min.js"></script>
      
    
  </body>
</html>