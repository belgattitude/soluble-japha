
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="PHP java bridge client from JVM interoperability.">
      
      
      
        <meta name="author" content="Sébastien Vanvelthem">
      
      
        <link rel="canonical" href="http://docs.soluble.io/soluble-japha/install_server/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>JavaBridge server - soluble-japha</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#ff6e42">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CSFMono-Regular,Consolas,Menlo,monospace&display=fallback">
        <style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"SFMono-Regular,Consolas,Menlo,monospace"}</style>
      
    
    
    
      <link rel="stylesheet" href="../_assets/css/mermaid.css">
    
      <link rel="stylesheet" href="../_assets/css/monokai.css">
    
      <link rel="stylesheet" href="../_assets/css/style.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-orange" data-md-color-accent="light-blue">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#javabridge-server-installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="soluble-japha" class="md-header__button md-logo" aria-label="soluble-japha" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            soluble-japha
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JavaBridge server
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="soluble-japha" class="md-nav__button md-logo" aria-label="soluble-japha" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    soluble-japha
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install_client/" class="md-nav__link">
        PHP install
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          JavaBridge server
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        JavaBridge server
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#java-installation" class="md-nav__link">
    Java installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-install" class="md-nav__link">
    Quick install
  </a>
  
    <nav class="md-nav" aria-label="Quick install">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-and-customize" class="md-nav__link">
    Build and customize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-and-run" class="md-nav__link">
    Deploy and run
  </a>
  
    <nav class="md-nav" aria-label="Deploy and run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-tomcat" class="md-nav__link">
    Option 1: Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-standalone" class="md-nav__link">
    Option 2: Standalone
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-bridge" class="md-nav__link">
    Using the bridge
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-install" class="md-nav__link">
    Alternative install
  </a>
  
    <nav class="md-nav" aria-label="Alternative install">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-and-customize_1" class="md-nav__link">
    Build and customize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-in-standalone" class="md-nav__link">
    Run in standalone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-on-tomcat" class="md-nav__link">
    Run on Tomcat
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composer-install" class="md-nav__link">
    Composer install
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bridge_connection/" class="md-nav__link">
        Connection
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Usage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_basics/" class="md-nav__link">
        Language basics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_useful_functions/" class="md-nav__link">
        Useful functions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_exceptions/" class="md-nav__link">
        Handling exceptions
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../language_recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Performance
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Performance" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Performance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_how_it_works/" class="md-nav__link">
        How it works
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_optimizations/" class="md-nav__link">
        Optimizations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_benchmarks/" class="md-nav__link">
        Benchmarks
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Advanced
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Advanced" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_servlet_functions/" class="md-nav__link">
        Servlet functions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_servlet_session/" class="md-nav__link">
        Servlet session
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_servlet_context/" class="md-nav__link">
        Servlet context
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Notes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../notes_limitations/" class="md-nav__link">
        Limitations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../notes_legacy/" class="md-nav__link">
        Legacy version
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../server/install_java/" class="md-nav__link">
        Java install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../server/install_tomcat/" class="md-nav__link">
        Tomcat install
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../notes_implementation/" class="md-nav__link">
        Standards & quality
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#java-installation" class="md-nav__link">
    Java installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-install" class="md-nav__link">
    Quick install
  </a>
  
    <nav class="md-nav" aria-label="Quick install">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-and-customize" class="md-nav__link">
    Build and customize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-and-run" class="md-nav__link">
    Deploy and run
  </a>
  
    <nav class="md-nav" aria-label="Deploy and run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-tomcat" class="md-nav__link">
    Option 1: Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-standalone" class="md-nav__link">
    Option 2: Standalone
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-bridge" class="md-nav__link">
    Using the bridge
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternative-install" class="md-nav__link">
    Alternative install
  </a>
  
    <nav class="md-nav" aria-label="Alternative install">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-and-customize_1" class="md-nav__link">
    Build and customize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-in-standalone" class="md-nav__link">
    Run in standalone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-on-tomcat" class="md-nav__link">
    Run on Tomcat
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composer-install" class="md-nav__link">
    Composer install
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/belgattitude/soluble-japha/edit/master/doc/install_server.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="javabridge-server-installation">Javabridge server installation<a class="headerlink" href="#javabridge-server-installation" title="Permanent link">&para;</a></h1>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>A Javabridge server is required and acts as an intermediate between
the JVM and PHP runtime. Here's the steps to customize, build and run your own instance.
Don't be afraid, it takes few minutes.</p>
</div>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>An installed <a href="../server/install_java/">OpenJDK or OracleJDK, 7 or 8+</a> <em>(JRE is sufficient for running)</em>.</li>
<li>The recommended <a href="../server/install_tomcat/">Apache Tomcat</a> server for deployments
  <em>(any servlet 2.5+ spec container should work)</em> or the <a href="https://github.com/jsimone/webapp-runner">webapp-runner</a>
  for standalone.</li>
</ul>
<h2 id="java-installation">Java installation<a class="headerlink" href="#java-installation" title="Permanent link">&para;</a></h2>
<p>On ubuntu based systems, you can install java by typing:</p>
<div class="highlight"><pre><span></span><code>$ sudo apt-get install openjdk-8-jdk
</code></pre></div>

<p><em>For other recipes and systems, refer to the <a href="../server/install_java/">extended java installation notes</a>.</em></p>
<hr />
<h2 id="quick-install">Quick install<a class="headerlink" href="#quick-install" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The quick install instructions are based on the <strong>forked <a href="https://github.com/belgattitude/php-java-bridge">php-java-bridge</a>
server</strong>.</p>
<p>They promote the recommended installation workflow based on <a href="../server/install_tomcat/">Tomcat</a>,
a popular servlet container server widely available nowadays <em>(i.e: Digitalocean droplets...)</em>.</p>
<p>A optional section describe how to use the <a href="https://github.com/jsimone/webapp-runner">webapp-runner</a>
instead of <em>regular</em> Tomcat install. This allows to start, control the bridge server
straight from the command line (standalone) or deploy on some cloud services (i.e. Heroku).</p>
<p><em>For spring-boot support, you can also look at <a href="#alternative-install">Alternative installation section</a>.</em></p>
</div>
<h3 id="build-and-customize">Build and customize<a class="headerlink" href="#build-and-customize" title="Permanent link">&para;</a></h3>
<p>Replace the version below by the latest <a href="https://github.com/belgattitude/php-java-bridge/releases">Javabridge release</a>: <a href="https://maven-badges.herokuapp.com/maven-central/io.soluble.pjb/php-java-bridge"><img alt="Maven Central" src="https://maven-badges.herokuapp.com/maven-central/io.soluble.pjb/php-java-bridge/badge.svg" /></a></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Download and unzip the latest php-java-bridge sources</span>
$ wget https://github.com/belgattitude/php-java-bridge/archive/7.1.3.zip -O pjb.zip
$ unzip pjb.zip <span class="o">&amp;&amp;</span> <span class="nb">cd</span> php-java-bridge-7.1.3
<span class="c1"># 2. Customize and build your own bridge:</span>
<span class="c1">#    Example below contains some pre-made gradle init scripts</span>
<span class="c1">#    to include jasperreports and mysql-connector libraries to the</span>
<span class="c1">#    build. They are optional, remove the (-I) parts or provide</span>
<span class="c1">#    your own.</span>
$ ./gradlew war <span class="se">\</span>
         -I init-scripts/init.jasperreports.gradle <span class="se">\</span>
         -I init-scripts/init.mysql.gradle
<span class="c1"># The build files are generated in the &#39;/build/libs&#39; folder.</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As shown above, adding library dependencies can be done easily through gradle
init-scripts arguments (-I). To learn mode, have a look to
<a href="https://github.com/belgattitude/php-java-bridge/blob/master/init-scripts/README.md">some pre-made init scripts</a>
included in the latest distribution or provide your own.</p>
</div>
<h3 id="deploy-and-run">Deploy and run<a class="headerlink" href="#deploy-and-run" title="Permanent link">&para;</a></h3>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>For security reasons, the Javabridge server cannot be exposed on a public
network. It must be limited to interactions on the same host/network
and should be executed with the same user as the php client (not root).
Bind Tomcat to localhost or setup a firewall where applicable.</p>
</div>
<h4 id="option-1-tomcat">Option 1: Tomcat<a class="headerlink" href="#option-1-tomcat" title="Permanent link">&para;</a></h4>
<p>Ensure Tomcat is <a href="../server/install_tomcat/">installed</a> or
quickly run <code>sudo apt-get install tomcat8</code> on Ubuntu based systems,
then copy the builded war file in the tomcat webapps folder.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 3. Deploy or update the servlet on Tomcat:</span>
<span class="c1">#    Example below is based on Ubuntu with Tomcat8</span>
<span class="c1">#    and can be applied in the same way for other systems,</span>
<span class="c1">#    just replace the webapp directory location.</span>
$ cp ./build/libs/JavaBridgeTemplate.war /var/lib/tomcat8/webapps/MyJavaBridge.war
</code></pre></div>

<p>Tomcat will automatically deploy and register the servlet. Wait few seconds and point
your browser to <a href="http://localhost:8080/MyJavaBridge">http://localhost:8080/MyJavaBridge</a>
<em>(note the <code>/MyJavaBridge</code> uri corresponds to the deployed war filename, easily changeable)</em>
and check the landing page:</p>
<p><img alt="" src="../images/bridge_landing.png" title="Landing screenshot" /></p>
<h4 id="option-2-standalone">Option 2: Standalone<a class="headerlink" href="#option-2-standalone" title="Permanent link">&para;</a></h4>
<p>The <a href="https://github.com/jsimone/webapp-runner">webapp-runner</a> actually embeds a
<em>standalone runnable</em> Tomcat and is a viable option for those who don't want to
install an additional system wide server.</p>
<p>You can download the webapp-runner on <a href="">maven central</a> or alternatively
from the command line:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Get the latest webapp-runner from maven.</span>
$ <span class="nb">export</span> <span class="nv">WR_VERSION</span><span class="o">=</span><span class="s2">&quot;9.0.27.1&quot;</span><span class="p">;</span>
$ <span class="nv">WEBAPP_RUNNER_URL</span><span class="o">=</span><span class="s2">&quot;https://repo.maven.apache.org/maven2/com/github/jsimone/webapp-runner/</span><span class="si">${</span><span class="nv">WR_VERSION</span><span class="si">}</span><span class="s2">/webapp-runner-</span><span class="si">${</span><span class="nv">WR_VERSION</span><span class="si">}</span><span class="s2">.jar&quot;</span>
</code></pre></div>

<p>Run your server <code>JavaBridgeTemplate.war</code> file with the webapp-runner:</p>
<div class="highlight"><pre><span></span><code>$ java -jar webapp-runner.jar /path/to/JavaBridgeTemplate.war --port <span class="m">8093</span>
</code></pre></div>

<p>See travis example script <a href="https://github.com/belgattitude/soluble-japha/blob/master/.travis/launch_javabridge_server.sh">here</a>.</p>
<h3 id="using-the-bridge">Using the bridge<a class="headerlink" href="#using-the-bridge" title="Permanent link">&para;</a></h3>
<p>Once the connection is working, jump to the <a href="../bridge_connection/">Getting started and how to connect section</a>.</p>
<hr />
<h2 id="alternative-install">Alternative install<a class="headerlink" href="#alternative-install" title="Permanent link">&para;</a></h2>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>This install method should be considered whenever you need a standalone binary or
intend to develop your own java classes in a sprint-boot architecture.</p>
</div>
<p>This alternative install method is based on the <a href="https://github.com/belgattitude/pjb-starter-springboot">pjb-starter-springboot</a>
starter kit. In comparison to the quick installation above:</p>
<ul>
<li>Provide also a binary runnable from the cli (standalone / embedded Tomcat 8.5+).</li>
<li>Foundation to add write extra Java code in the <a href="https://projects.spring.io/spring-boot/">spring-boot</a> way (skeleton).</li>
<li>Heavier size (approx 10Mb more than the barebone version: 1Mb, 15Mb more for standalone)</li>
<li>No performance regressions measured from the barebone PHP/Javabridge</li>
<li>Might not include the latest release of the bridge (not as frequently updated).</li>
</ul>
<p>Please check the <a href="https://github.com/belgattitude/pjb-starter-springboot">pjb-starter-springboot</a>
to get the latest instructions or follow the procedure below:</p>
<h3 id="build-and-customize_1">Build and customize<a class="headerlink" href="#build-and-customize_1" title="Permanent link">&para;</a></h3>
<p>The instructions are very similar from the barebone PHP/Javabridge installation described above:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Clone the pjb-starter-springboot skeleton (-b to checkout a specific release)</span>
$ git clone https://github.com/belgattitude/pjb-starter-springboot
$ <span class="nb">cd</span> pjb-starter-springboot
<span class="c1"># 2. Customize and build your own bridge:</span>
<span class="c1">#    Example below contains some pre-made gradle init scripts</span>
<span class="c1">#    to include jasperreports and mysql-connector libraries to the</span>
<span class="c1">#    build. They are optional, remove the (-I) parts or provide</span>
<span class="c1">#    your own.</span>
$ ./gradlew build <span class="se">\</span>
         -I init-scripts/init.jasperreports.gradle <span class="se">\</span>
         -I init-scripts/init.mysql.gradle
<span class="c1"># The build files are generated in the &#39;/build/libs&#39; folder.</span>
</code></pre></div>

<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As shown above, adding library dependencies can be done easily through gradle
init-scripts arguments (-I). To learn mode, have a look to
<a href="https://github.com/belgattitude/pjb-starter-sprinboot/blob/master/init-scripts/README.md">some pre-made init scripts</a>
included in the latest distribution or provide your own.</p>
</div>
<p>And check the <code>build\libs</code> directory for the following files:</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Description</th>
<th>Approx. size</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>JavaBridgeStandalone.jar</code></td>
<td>Standalone server with an embedded Tomcat 8.5+.</td>
<td>&plusmn; 32Mb</td>
</tr>
<tr>
<td><code>JavaBridgeTemplate.war</code></td>
<td>War file, ready to drop into Tomcat webapps folder.</td>
<td>&plusmn; 12Mb</td>
</tr>
</tbody>
</table>
<h3 id="run-in-standalone">Run in standalone<a class="headerlink" href="#run-in-standalone" title="Permanent link">&para;</a></h3>
<p>You can easily run the a <code>JavaBridgeStandalone.jar</code> file from the cli:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Run the PHPJavaBridge server in standalone</span>
$ java -jar ./build/libs/JavaBridgeStandalone.jar -Dserver_port<span class="o">=</span><span class="m">8089</span>
</code></pre></div>

<p>Check the <a href="http://localhost:8089">landing page</a> for status and
use the connection <code>localhost:8089/servlet.phpjavabridge</code> in your
bridge connection parameters.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As the standalone version embeds and runs on Tomcat 8.5+ you might wonder
how it compares from a regular tomcat deployment? One important difference
concerns the system integration and with the provided OS version:</p>
<ul>
<li>Error and log files are maintained and rotated in standard directories.</li>
<li>Automatic startup is provided out-of-the-box.</li>
</ul>
<p>And if standalone gives a lot of freedom, it comes with the need to
control the service by yourself (supervisord or cli scripts...). Up to you
to decide which method is applicable, the pjb-starter-springboot
offers both posibilities.</p>
</div>
<h3 id="run-on-tomcat">Run on Tomcat<a class="headerlink" href="#run-on-tomcat" title="Permanent link">&para;</a></h3>
<p>Ensure Tomcat is <a href="../server/install_tomcat/">installed</a> or
quickly run <code>sudo apt-get install tomcat8</code> on Ubuntu based systems,
then copy the builded war file in the tomcat webapps folder.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 3. Deploy or update the servlet on Tomcat:</span>
<span class="c1">#    Example below is based on Ubuntu with Tomcat8</span>
<span class="c1">#    and can be applied in the same way for other systems,</span>
<span class="c1">#    just replace the webapp directory location.</span>
$ cp ./build/libs/JavaBridgeTemplate.war /var/lib/tomcat8/webapps/MyJavaBridge.war
</code></pre></div>

<p>Tomcat will automatically deploy and register the servlet. Wait few seconds and point
your browser to <a href="http://localhost:8080/MyJavaBridge">http://localhost:8080/MyJavaBridge</a>
<em>(note the <code>/MyJavaBridge</code> uri corresponds to the deployed war filename, easily changeable)</em>
and check the landing page:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For obvious security reasons, the Javabridge server cannot be exposed on a public
network. It must be limited to interactions on the same host/network
and should be executed with the same user as the php client (not root).
Bind Tomcat to localhost or setup a firewall where applicable.</p>
</div>
<hr />
<h2 id="composer-install">Composer install<a class="headerlink" href="#composer-install" title="Permanent link">&para;</a></h2>
<p>As a third alternative, the <a href="https://github.com/belgattitude/pjbserver-tools">pjbserver-tools standalone server</a>
offer a pre-made server binary and can be installed straight from composer.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The pjbserver-tools package is not fit for production usage (yet), its best use is for
unit-tests (travis...) or local development only.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../install_client/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              PHP install
            </div>
          </div>
        </a>
      
      
        <a href="../bridge_connection/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Connection
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2020 Sébastien Vanvelthem
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/belgattitude/soluble-japha" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"features": [], "version": null, "base": "..", "translations": {"clipboard.copy": "Copy to clipboard", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.lang": "en", "clipboard.copied": "Copied to clipboard", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.none": "No matching documents", "search.result.other": "# matching documents", "search.result.more.other": "# more on this page", "search.result.one": "1 matching document"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
        <script src="../_assets/js/mermaid-8.5.0.min.js"></script>
      
    
  </body>
</html>