


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="PHP java bridge client from JVM interoperability.">
      
      
        <link rel="canonical" href="http://docs.soluble.io/soluble-japha/bridge_connection/">
      
      
        <meta name="author" content="Sébastien Vanvelthem">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.0.2">
    
    
      
        <title>Connection - soluble-japha</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.07c9fbf5.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecd4686e.min.css">
      
      
        
        
        <meta name="theme-color" content="#ff7043">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"Lato",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../_assets/css/mermaid.css">
    
      <link rel="stylesheet" href="../_assets/css/monokai.css">
    
      <link rel="stylesheet" href="../_assets/css/style.css">
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-92890300-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="deep-orange" data-md-color-accent="light-blue">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#connecting-to-the-bridge" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="http://docs.soluble.io/soluble-japha/" title="soluble-japha" class="md-header-nav__button md-logo" aria-label="soluble-japha">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            soluble-japha
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Connection
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="http://docs.soluble.io/soluble-japha/" title="soluble-japha" class="md-nav__button md-logo" aria-label="soluble-japha">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    soluble-japha
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Installation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Installation" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../install_client/" title="PHP install" class="md-nav__link">
      PHP install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install_server/" title="JavaBridge server" class="md-nav__link">
      JavaBridge server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Connection
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Connection" class="md-nav__link md-nav__link--active">
      Connection
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
    <nav class="md-nav" aria-label="Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection-params" class="md-nav__link">
    Connection params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-psr-3-logger" class="md-nav__link">
    Optional PSR-3 logger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#errors-and-exceptions" class="md-nav__link">
    Errors and exceptions
  </a>
  
    <nav class="md-nav" aria-label="Errors and exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-debugging" class="md-nav__link">
    Server debugging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Usage
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Usage" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../language_basics/" title="Language basics" class="md-nav__link">
      Language basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language_useful_functions/" title="Useful functions" class="md-nav__link">
      Useful functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language_exceptions/" title="Handling exceptions" class="md-nav__link">
      Handling exceptions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../language_recipes/" title="Recipes" class="md-nav__link">
      Recipes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Performance
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Performance" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Performance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_how_it_works/" title="How it works" class="md-nav__link">
      How it works
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language_optimizations/" title="Optimizations" class="md-nav__link">
      Optimizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_benchmarks/" title="Benchmarks" class="md-nav__link">
      Benchmarks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Advanced
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_servlet_functions/" title="Servlet functions" class="md-nav__link">
      Servlet functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_servlet_session/" title="Servlet session" class="md-nav__link">
      Servlet session
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bridge_servlet_context/" title="Servlet context" class="md-nav__link">
      Servlet context
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Notes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Notes" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../notes_limitations/" title="Limitations" class="md-nav__link">
      Limitations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notes_legacy/" title="Legacy version" class="md-nav__link">
      Legacy version
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/install_java/" title="Java install" class="md-nav__link">
      Java install
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../server/install_tomcat/" title="Tomcat install" class="md-nav__link">
      Tomcat install
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../notes_implementation/" title="Standards & quality" class="md-nav__link">
      Standards & quality
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
    <nav class="md-nav" aria-label="Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection-params" class="md-nav__link">
    Connection params
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-psr-3-logger" class="md-nav__link">
    Optional PSR-3 logger
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#errors-and-exceptions" class="md-nav__link">
    Errors and exceptions
  </a>
  
    <nav class="md-nav" aria-label="Errors and exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-debugging" class="md-nav__link">
    Server debugging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/belgattitude/soluble-japha/edit/master/doc/bridge_connection.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="connecting-to-the-bridge">Connecting to the bridge<a class="headerlink" href="#connecting-to-the-bridge" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Connection to the bridge is made through the <code>Soluble\Japha\Bridge\Adapter</code>object 
and should be initialized once <em>(similarly to a database connection)</em>. </p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Using a <code>container-interop</code> compatible container like
<a href="https://github.com/zendframework/zend-servicemanager">zend-servicemanager</a> 
is encouraged.</p>
</div>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Soluble\Japha\Bridge\Adapter</span> <span class="k">as</span> <span class="nx">BridgeAdapter</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Soluble\Japha\Bridge\Exception</span> <span class="k">as</span> <span class="nx">BridgeException</span><span class="p">;</span>

<span class="nv">$options</span> <span class="o">=</span> <span class="p">[</span>     
    <span class="s1">&#39;servlet_address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://localhost:8080/MyJavaBridge/servlet.phpjavabridge&#39;</span>
<span class="p">];</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$ba</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BridgeAdapter</span><span class="p">(</span><span class="nv">$options</span><span class="p">);</span>    
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">BridgeException\ConnectionException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>  
    <span class="c1">// Server is not reachable</span>
    <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span> 
</code></pre></div>

<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h2>
<h3 id="connection-params">Connection params<a class="headerlink" href="#connection-params" title="Permanent link">&para;</a></h3>
<p>The <code>Soluble\Japha\Bridge\Adapter</code> constructor requires <code>$options</code>, an associative array with: </p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>servlet_address</code></td>
<td>In the form: <code>http(s)://&lt;host&gt;:&lt;port&gt;/&lt;context_uri&gt;/servlet.phpjavabridge</code></td>
</tr>
<tr>
<td><code>use_persistent_connection</code></td>
<td>Since <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/2" title="GitHub User: 2">@2</a>.5.0. By default <code>false</code>, set <code>true</code> for better connection times if needed.</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Since v2.4.0, you can also provide basic auth in the <code>servlet_address</code>, i.e.
<code>http://user:password@localhost:8083/JavaBridge/servlet.phpjavabridge</code>. If
using basic_auth, avoid setting <code>use_persistent_connection</code> to true. </p>
</div>
<table>
<thead>
<tr>
<th>Advanced params</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>java_send_size</code></td>
<td>Socket write buffer, by default <code>8192</code>.</td>
</tr>
<tr>
<td><code>java_recv_size</code></td>
<td>Socket read buffer, by default <code>8192</code>.</td>
</tr>
<tr>
<td><code>java_log_level</code></td>
<td>Log level on server (tomcat) side, by default <code>null</code>.</td>
</tr>
<tr>
<td><code>force_simple_xml_parser</code></td>
<td>By default <code>false</code>: force the Use the php xml parser instead of native xml_parser().</td>
</tr>
<tr>
<td><code>driver</code></td>
<td>Defaults to <code>pjb62</code> driver implementation.</td>
</tr>
<tr>
<td><code>java_prefer_values</code></td>
<td>By default <code>true</code>, see warning below.</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In short, setting <code>java_prefer_value</code> to <code>false</code> should theoretically give
more performance at the cost of some more boilerplate in the code. As the perf 
improvements have not been measured in practice (yet), the default is <code>true</code> in the
<code>soluble-japha</code> implementation. Better to not change it as it will bc-break
your code.  </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>force_simple_xml_parser</code> param can be set to <code>true</code> to force usage of the
pure-php implementation of the xml parser. This can fix possible issues with
the native xml parser when the size of an xml message exceeds 10M. 
Before applying this feature, always check whether it's your only option... </p>
</div>
<h3 id="optional-psr-3-logger">Optional PSR-3 logger<a class="headerlink" href="#optional-psr-3-logger" title="Permanent link">&para;</a></h3>
<p>Optionally you can send any PSR-3 logger as the second parameter, for example with monolog :</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">//...</span>
<span class="k">use</span> <span class="nx">Soluble\Japha\Bridge\Adapter</span> <span class="k">as</span> <span class="nx">BridgeAdapter</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Soluble\Japha\Bridge\Exception</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Monolog\Logger</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Monolog\Handler\StreamHandler</span><span class="p">;</span>

<span class="nv">$options</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Pjb62&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;servlet_address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;localhost:8089/servlet.phpjavabridge&#39;</span>
<span class="p">];</span>

<span class="nv">$logger</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Logger</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
<span class="nv">$logger</span><span class="o">-&gt;</span><span class="na">pushHandler</span><span class="p">(</span><span class="k">new</span> <span class="nx">StreamHandler</span><span class="p">(</span><span class="s1">&#39;path/to/your.log&#39;</span><span class="p">,</span> <span class="nx">Logger</span><span class="o">::</span><span class="na">WARNING</span><span class="p">));</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$ba</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BridgeAdapter</span><span class="p">(</span><span class="nv">$options</span><span class="p">,</span> <span class="nv">$logger</span><span class="p">);</span>    
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\ConnectionException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// The error has been logged in your log file, check for</span>
    <span class="c1">// &quot;[soluble-japha] Cannot connect to php-java-bridge server (...)&quot;</span>

<span class="p">}</span> 
</code></pre></div>

<h2 id="errors-and-exceptions">Errors and exceptions<a class="headerlink" href="#errors-and-exceptions" title="Permanent link">&para;</a></h2>
<p>During initialization with the BridgeAdapter, the following exceptions could happen :</p>
<table>
<thead>
<tr>
<th>ExceptionClass</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Soluble\Japha\Bridge\Exception\ConnectionException</code></td>
<td>Server not available <em>(network port is unreachable)</em></td>
</tr>
<tr>
<td><code>Soluble\Japha\Bridge\Exception\AuthenticationException</code></td>
<td>Invalid credentials given in basic auth <em>(check config)</em></td>
</tr>
<tr>
<td><code>Soluble\Japha\Bridge\Exception\ConfigurationException</code></td>
<td>Invalid connection parameter <em>(check config)</em></td>
</tr>
<tr>
<td><code>Soluble\Japha\Bridge\Exception\UnsupportedDriverException</code></td>
<td>Specified driver is not supported <em>(check config)</em></td>
</tr>
<tr>
<td><code>Soluble\Japha\Bridge\Exception\InvalidArgumentException</code></td>
<td>Invalid argument in constructor <em>(check usage)</em></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To provide faster initialization, soluble-japha does not deeply check the connection and
consider a running http(s) port as valid. This can lead to confusion if your connection
params points to a different running servlet. In this case the <code>ConnectionException</code> won't be
thrown but you'll experience a <code>Soluble\Japha\Bridge\Exception\BrokenConnectionException</code>
when calling java objects. </p>
<p>A classic example: you forgot to include the servlet uri in your connection params. Instead
of setting <code>http://localhost:8080/MyJavaBridge/servlet.phpjavabridge</code>, you've passed
<code>http://localhost:8080/servlet.phpjavabridge</code>. The connection will succeed <em>(no <code>ConnectionException</code> will be thrown)</em>
because there's a listening server. But once you'll call a method on the bridge you'll
end up with the <code>BrokenConnectionException</code>. Fix your config to the correct bridge address.</p>
</div>
<h3 id="server-debugging">Server debugging<a class="headerlink" href="#server-debugging" title="Permanent link">&para;</a></h3>
<p>Debugging can be enabled through the connection (<a class="magiclink magiclink-github magiclink-mention" href="https://github.com/see" title="GitHub User: see">@see</a> java_log_level). </p>
<ul>
<li>0: Log nothing, not even fatal errors.</li>
<li>1: Log fatal system errors such as "out of memory error".</li>
<li>2: Log java exceptions.</li>
<li>3: Log verbose, e.g.: "JavaBridge version x.y.z started"</li>
<li>4: Log debug messages, including the c/s communication protocol.</li>
<li>5: Log method invocations, including method selection.</li>
<li>6: Reserved for internal use. Log messages which may be useful
      to debug certain parts of the bridge.</li>
</ul>
<blockquote>
<p>If using tomcat logged messages will be present in catalina.out. </p>
</blockquote>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../install_server/" title="JavaBridge server" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                JavaBridge server
              </div>
            </div>
          </a>
        
        
          <a href="../language_basics/" title="Language basics" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Language basics
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2020 Sébastien Vanvelthem
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://github.com/belgattitude/soluble-japha" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.36cbf620.min.js"></script>
      <script src="../assets/javascripts/bundle.00c583dd.min.js"></script><script id="__lang" type="application/json">{"search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.config.pipeline": "trimmer, stopWordFilter", "clipboard.copy": "Copy to clipboard", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.config.lang": "en", "clipboard.copied": "Copied to clipboard"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["instant"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.7f7c8775.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../_assets/js/mermaid-8.4.8.min.js"></script>
      
    
  </body>
</html>