
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="PHP java bridge client from JVM interoperability.">
      
      
      
        <meta name="author" content="SÃ©bastien Vanvelthem">
      
      
        <link rel="canonical" href="http://docs.soluble.io/soluble-japha/bridge_benchmarks/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>Benchmarks - soluble-japha</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#ff6e42">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CSFMono-Regular,Consolas,Menlo,monospace&display=fallback">
        <style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"SFMono-Regular,Consolas,Menlo,monospace"}</style>
      
    
    
    
      <link rel="stylesheet" href="../_assets/css/mermaid.css">
    
      <link rel="stylesheet" href="../_assets/css/monokai.css">
    
      <link rel="stylesheet" href="../_assets/css/style.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-orange" data-md-color-accent="light-blue">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#benchmarks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="soluble-japha" class="md-header__button md-logo" aria-label="soluble-japha" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            soluble-japha
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Benchmarks
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="soluble-japha" class="md-nav__button md-logo" aria-label="soluble-japha" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    soluble-japha
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/belgattitude/soluble-japha/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    soluble-japha
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install_client/" class="md-nav__link">
        PHP install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../install_server/" class="md-nav__link">
        JavaBridge server
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../bridge_connection/" class="md-nav__link">
        Connection
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Usage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_basics/" class="md-nav__link">
        Language basics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_useful_functions/" class="md-nav__link">
        Useful functions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_exceptions/" class="md-nav__link">
        Handling exceptions
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../language_recipes/" class="md-nav__link">
        Recipes
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      <label class="md-nav__link" for="__nav_6">
        Performance
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Performance" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Performance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_how_it_works/" class="md-nav__link">
        How it works
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language_optimizations/" class="md-nav__link">
        Optimizations
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Benchmarks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Benchmarks
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#simple-benchmark" class="md-nav__link">
    Simple benchmark
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        Advanced
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Advanced" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_servlet_functions/" class="md-nav__link">
        Servlet functions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_servlet_session/" class="md-nav__link">
        Servlet session
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bridge_servlet_context/" class="md-nav__link">
        Servlet context
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Notes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../notes_limitations/" class="md-nav__link">
        Limitations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../notes_legacy/" class="md-nav__link">
        Legacy version
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../server/install_java/" class="md-nav__link">
        Java install
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../server/install_tomcat/" class="md-nav__link">
        Tomcat install
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../notes_implementation/" class="md-nav__link">
        Standards & quality
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#simple-benchmark" class="md-nav__link">
    Simple benchmark
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/belgattitude/soluble-japha/edit/master/doc/bridge_benchmarks.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="benchmarks">Benchmarks<a class="headerlink" href="#benchmarks" title="Permanent link">&para;</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The following benchmarks does not intend to prove anything but might help understand
the possible overheads when using the bridge. They were designed to illustrate the
cost of creating objects and calling methods (roundtrips).   </p>
<p>Be sure to have read the <a href="../bridge_how_it_works/">how it works</a> before.</p>
</div>
<h2 id="simple-benchmark">Simple benchmark<a class="headerlink" href="#simple-benchmark" title="Permanent link">&para;</a></h2>
<p>Machine: Laptop i7-6700HQ 2.60GHz, Tomcat8, japha 1.2.0, OracleJDK8, pjb7.0.0 and php7.0-fpm on ubuntu xenial. 
Test script: <a href="https://github.com/belgattitude/soluble-japha/blob/master/test/bench/simple_benchmarks.php">simple_benchmark.php</a>. 
Connection time: <code>$ba = new BridgeAdapter([])</code> varies between around 2ms and 7ms </p>
<table>
<thead>
<tr>
<th>Benchmark name</th>
<th align="right">x1</th>
<th align="right">x100</th>
<th align="right">x1000</th>
<th align="right">x10000</th>
<th align="right">Average</th>
<th align="right">Memory</th>
</tr>
</thead>
<tbody>
<tr>
<td>New java(<code>java.lang.String</code>, "One")</td>
<td align="right">0.14ms</td>
<td align="right">4.09ms</td>
<td align="right">34.17ms</td>
<td align="right">282.30ms</td>
<td align="right">0.03ms</td>
<td align="right">12.37Kb</td>
</tr>
<tr>
<td>New java(<code>java.math.BigInteger</code>, 1)</td>
<td align="right">0.05ms</td>
<td align="right">3.28ms</td>
<td align="right">32.51ms</td>
<td align="right">308.27ms</td>
<td align="right">0.03ms</td>
<td align="right">0.37Kb</td>
</tr>
<tr>
<td>javaClass(<code>java.sql.DriverManager</code>)</td>
<td align="right">0.09ms</td>
<td align="right">0.02ms</td>
<td align="right">0.14ms</td>
<td align="right">1.69ms</td>
<td align="right">0.00ms</td>
<td align="right">3.12Kb</td>
</tr>
<tr>
<td>Method call <code>java.lang.String-&gt;length()</code></td>
<td align="right">0.05ms</td>
<td align="right">2.14ms</td>
<td align="right">21.60ms</td>
<td align="right">226.35ms</td>
<td align="right">0.02ms</td>
<td align="right">0.34Kb</td>
</tr>
<tr>
<td>Method call <code>String-&gt;concat("hello")</code></td>
<td align="right">0.08ms</td>
<td align="right">2.59ms</td>
<td align="right">27.30ms</td>
<td align="right">287.79ms</td>
<td align="right">0.03ms</td>
<td align="right">2.09Kb</td>
</tr>
<tr>
<td>$a = <code>...String-&gt;concat('hello')</code> . ' world'</td>
<td align="right">0.09ms</td>
<td align="right">5.81ms</td>
<td align="right">54.64ms</td>
<td align="right">532.68ms</td>
<td align="right">0.05ms</td>
<td align="right">0.42Kb</td>
</tr>
<tr>
<td>New java(<code>java.util.HashMap</code>, $arr)</td>
<td align="right">0.16ms</td>
<td align="right">3.74ms</td>
<td align="right">33.78ms</td>
<td align="right">351.76ms</td>
<td align="right">0.04ms</td>
<td align="right">67.05Kb</td>
</tr>
<tr>
<td>Method call <code>HashMap-&gt;get('arrKey')</code></td>
<td align="right">0.04ms</td>
<td align="right">2.71ms</td>
<td align="right">23.37ms</td>
<td align="right">267.88ms</td>
<td align="right">0.03ms</td>
<td align="right">0.39Kb</td>
</tr>
<tr>
<td>Call <code>(string) HashMap-&gt;get('arrKey')[0]</code></td>
<td align="right">0.08ms</td>
<td align="right">5.98ms</td>
<td align="right">56.99ms</td>
<td align="right">566.69ms</td>
<td align="right">0.06ms</td>
<td align="right">0.37Kb</td>
</tr>
<tr>
<td>Iterate HashMap-&gt;get('arrKey')[0]`</td>
<td align="right">0.23ms</td>
<td align="right">13.40ms</td>
<td align="right">133.93ms</td>
<td align="right">1,252.59ms</td>
<td align="right">0.13ms</td>
<td align="right">2.52Kb</td>
</tr>
<tr>
<td>GetValues on <code>HashMap</code></td>
<td align="right">0.05ms</td>
<td align="right">3.67ms</td>
<td align="right">36.22ms</td>
<td align="right">368.43ms</td>
<td align="right">0.04ms</td>
<td align="right">1.27Kb</td>
</tr>
<tr>
<td>New <code>java(HashMap(array_fill(0, 100, true)))</code></td>
<td align="right">0.20ms</td>
<td align="right">12.04ms</td>
<td align="right">122.62ms</td>
<td align="right">1,202.73ms</td>
<td align="right">0.12ms</td>
<td align="right">0.63Kb</td>
</tr>
<tr>
<td>Pure PHP: call PHP strlen() method</td>
<td align="right">0.00ms</td>
<td align="right">0.00ms</td>
<td align="right">0.01ms</td>
<td align="right">0.07ms</td>
<td align="right">0.00ms</td>
<td align="right">0.37Kb</td>
</tr>
<tr>
<td>Pure PHP: concat '$string . "hello"'</td>
<td align="right">0.00ms</td>
<td align="right">0.00ms</td>
<td align="right">0.04ms</td>
<td align="right">0.31ms</td>
<td align="right">0.00ms</td>
<td align="right">120.37Kb</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Memory and average time are computed on the 11101 iterations (x1, x100...). </p>
<p>You'll realize that average time is always lower than x1 (or x10). There's some optimzations
happening on subsequent calls that make very difficult to give sense to an average here. The best
is to always refer to x1 for worst-case scenario timing.</p>
<p>Memory does not include the JVM side, that explains differences from pure php tests and Java one. </p>
</div>
<p>The figures above will vary between systems, but intuitively you might get a glimpse about how
the bridge is sensitive to the number of object creations and method calls (roundtrips): </p>
<blockquote>
<p>(connection time) + (number of created objects) + (number of methods) + (eventual result parsing).</p>
</blockquote>
<p>Imagine a very simple case with 100 objects instantiations and 100 method calls (from the PHP side):</p>
<blockquote>
<p>4ms (connection) + 4.09ms (100 new strings) + 5.81ms (100 concat methods) = &plusmn; <strong>13ms</strong> minimal overhead <strong>(looks fine)</strong>.   </p>
</blockquote>
<p>Imagine a bad scenario with 1.000 new objects and 10.000 method calls: </p>
<blockquote>
<p>4ms (connection) + 34.1ms (1000 new objects) + 532.68ms (10000 concat methods) = &plusmn; <strong>570ms</strong> overhead <strong>(looks too much)</strong>.   </p>
</blockquote>
<p>The second example should be avoided if performance matters, but the first one looks not
only viable but a (micro-)service would probably not do better (parsing the result
might give differences - a json_decode() vs parsing bridge response... But eventually you 
can also get the json from the bridge as well).</p>
<p>As an example, generating a report with Jasper will not even require more than 10 objects and
at max 100 method calls. The overhead here is clearly insignificant. </p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../language_optimizations/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Optimizations
            </div>
          </div>
        </a>
      
      
        <a href="../bridge_servlet_functions/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Servlet functions
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2020 SÃ©bastien Vanvelthem
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/belgattitude/soluble-japha" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"features": [], "version": null, "base": "..", "translations": {"clipboard.copy": "Copy to clipboard", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.lang": "en", "clipboard.copied": "Copied to clipboard", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.none": "No matching documents", "search.result.other": "# matching documents", "search.result.more.other": "# more on this page", "search.result.one": "1 matching document"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
        <script src="../_assets/js/mermaid-8.5.0.min.js"></script>
      
    
  </body>
</html>